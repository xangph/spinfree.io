<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>üîß ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)</title>
  <style>
    body { font-family: Tahoma, sans-serif; background: #fff8dc; padding: 20px; text-align: center; }
    table { width: 100%; max-width: 800px; margin: 0 auto; border-collapse: collapse; }
    th, td { border: 1px solid #daa520; padding: 8px; }
    input { padding: 5px; width: 90%; }
    button {
      margin: 10px 5px; padding: 10px 20px;
      border: none; border-radius: 10px;
      background: #ffd700; color: #b8860b; font-weight: bold;
    }
    .deleteRowBtn { background: #f55; color: white; }
    ul { text-align: left; max-width: 800px; margin: 20px auto; }
    #loginBox {
      background: #fff;
      border: 2px solid #daa520;
      padding: 20px;
      border-radius: 15px;
      max-width: 300px;
      margin: 100px auto;
      box-shadow: 0 0 20px #daa520;
    }
    #adminContent { display: none; }
  </style>
</head>
<body>
  <div>
    <button>
      <div>
        <a href="spin.html" target="_blank" rel="noopener noreferrer">‡∫•‡∫¥‡ªâ‡∫á‡∫•‡∫π‡∫Å‡∫Ñ‡ªâ‡∫≤</a>
      </div>
    </button>
  </div>

<div id="loginBox">
  <h2>üîí ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</h2>
  <input type="password" id="adminPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô" />
  <br><br>
  <button onclick="checkPassword()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
</div>

<div id="adminContent">
  <h2>üîß ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h2>
  <table id="prizesTable">
    <thead>
      <tr><th>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</th><th>‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö</th><th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡πà‡∏≠‡∏¢</th><th>‡∏•‡∏ö</th></tr>
    </thead>
    <tbody></tbody>
  </table>
  <button id="addPrizeRowBtn">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
  <button id="savePrizesBtn">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>

  <h3>üéØ ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</h3>
  <ul id="releasedLinks"></ul>
</div>

<script>
  const ADMIN_PASSWORD = "111"; // <== ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ

  function checkPassword() {
    const input = document.getElementById("adminPassword").value;
    if (input === ADMIN_PASSWORD) {
      document.getElementById("loginBox").style.display = "none";
      document.getElementById("adminContent").style.display = "block";
    } else {
      alert("‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!");
    }
  }

  // ----- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• -----
  let prizes = JSON.parse(localStorage.getItem("prizes")) || [];
  const tbody = document.querySelector("#prizesTable tbody");

  function addPrizeRow(prize = "", winner = "", releaseDate = "") {
    const row = document.createElement("tr");
    row.innerHTML = `
      <td><input value="${prize}"></td>
      <td><input value="${winner}"></td>
      <td><input type="date" value="${releaseDate}"></td>
      <td><button class="deleteRowBtn">‚ùå</button></td>
    `;
    row.querySelector(".deleteRowBtn").onclick = () => row.remove();
    tbody.appendChild(row);
  }

  document.getElementById("addPrizeRowBtn").onclick = () => addPrizeRow();

  document.getElementById("savePrizesBtn").onclick = () => {
    const rows = tbody.querySelectorAll("tr");
    const updated = [];
    for (const r of rows) {
      const i = r.querySelectorAll("input");
      if (!i[0].value || !i[1].value || !i[2].value) return alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
      updated.push({ prize: i[0].value, winner: i[1].value, releaseDate: i[2].value, claimed: false });
    }
    prizes = updated;
    localStorage.setItem("prizes", JSON.stringify(prizes));
    alert("‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
    updateLinks();
  };

  function updateLinks() {
    const ul = document.getElementById("releasedLinks");
    ul.innerHTML = "";
    const today = new Date().toISOString().slice(0, 10);
    prizes.forEach(p => {
      if (p.releaseDate <= today) {
        const li = document.createElement("li");
        li.innerHTML = `<a href="index.html?user=${encodeURIComponent(p.winner)}&prize=${encodeURIComponent(p.prize)}" target="_blank">üéÅ ${p.prize} - ${p.winner}</a>`;
        ul.appendChild(li);
      }
    });
  }

  // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤ (‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™)
  prizes.forEach(p => addPrizeRow(p.prize, p.winner, p.releaseDate));
</script>
</body>
</html>
